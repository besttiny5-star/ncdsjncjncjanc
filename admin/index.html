<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Payment QA Bot ‚Äî Admin Dashboard</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/modern-css-reset/dist/reset.min.css" />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js" defer></script>
    <script src="data.js" defer></script>
    <script src="app.js" defer></script>
  </head>
  <body>
    <div class="page">
      <aside class="sidebar">
        <div class="sidebar__logo">Payment <span>QA</span></div>
        <nav class="sidebar__nav">
          <a href="#overview" class="is-active">
            <span class="icon">üìä</span>
            –î–∞—à–±–æ—Ä–¥
          </a>
          <a href="#orders">
            <span class="icon">üßæ</span>
            –ó–∞–∫–∞–∑—ã
          </a>
          <a href="#activity">
            <span class="icon">‚ö°Ô∏è</span>
            –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
          </a>
          <a href="#testers">
            <span class="icon">üë©‚Äçüíª</span>
            –¢–µ—Å—Ç–µ—Ä—ã
          </a>
          <a href="#reports">
            <span class="icon">üìà</span>
            –û—Ç—á—ë—Ç—ã
          </a>
        </nav>
        <div class="sidebar__footer">
          <button class="btn btn--ghost" id="export-dashboard">‚¨áÔ∏è –≠–∫—Å–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞</button>
          <div class="sidebar__status">
            <span class="dot dot--green"></span>
            –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã <span id="last-sync">—Ç–æ–ª—å–∫–æ —á—Ç–æ</span>
          </div>
        </div>
      </aside>
      <div class="content">
        <header class="topbar">
          <div class="topbar__left">
            <h1>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Payment QA</h1>
            <p>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–æ–º –ø–ª–∞—Ç–µ–∂–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
          </div>
          <div class="topbar__right">
            <button class="btn btn--soft" id="refresh-data">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            <div class="profile">
              <div class="profile__info">
                <span class="profile__name">–ê–ª–µ–∫—Å–µ–π –ü.</span>
                <span class="profile__role">–°—Ç–∞—Ä—à–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
              </div>
              <img src="https://i.pravatar.cc/48?img=68" alt="avatar" class="profile__avatar" />
            </div>
          </div>
        </header>

        <main class="main">
          <section class="cards" id="overview">
            <header class="section-header">
              <div>
                <h2>–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏</h2>
                <p>–í–∞–∂–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –±–∏–∑–Ω–µ—Å–∞ –≤ —á–µ—Ç—ã—Ä—ë—Ö –±–ª–æ–∫–∞—Ö: —Ñ–∏–Ω–∞–Ω—Å—ã, –∑–∞–∫–∞–∑—ã, –∫–ª–∏–µ–Ω—Ç—ã, –æ–ø–µ—Ä–∞—Ü–∏–∏.</p>
              </div>
              <div class="period-switcher">
                <button data-range="7">7 –¥–Ω–µ–π</button>
                <button data-range="30" class="is-active">30 –¥–Ω–µ–π</button>
                <button data-range="90">90 –¥–Ω–µ–π</button>
                <button data-range="365">–ì–æ–¥</button>
                <button data-range="custom" id="custom-range-button">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ</button>
              </div>
            </header>
            <div class="cards__grid" id="metrics-grid"></div>
          </section>

          <section class="charts" id="reports">
            <header class="section-header">
              <div>
                <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
                <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —ç–∫—Å–ø–æ—Ä—Ç–∞.</p>
              </div>
              <div class="charts__controls">
                <label class="input input--inline">
                  <span>–ü–µ—Ä–∏–æ–¥</span>
                  <select id="chart-period">
                    <option value="7">7 –¥–Ω–µ–π</option>
                    <option value="30" selected>30 –¥–Ω–µ–π</option>
                    <option value="90">90 –¥–Ω–µ–π</option>
                    <option value="365">365 –¥–Ω–µ–π</option>
                  </select>
                </label>
                <label class="input input--inline">
                  <span>–°</span>
                  <input type="date" id="chart-from" />
                </label>
                <label class="input input--inline">
                  <span>–ü–æ</span>
                  <input type="date" id="chart-to" />
                </label>
                <button class="btn btn--ghost" id="apply-chart-range">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
              </div>
            </header>

            <div class="chart-cards">
              <article class="chart-card">
                <div class="chart-card__header">
                  <div>
                    <h3>–î–æ—Ö–æ–¥ –ø–æ –¥–Ω—è–º</h3>
                    <p>–°—É–º–º–∞ –æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥</p>
                  </div>
                  <div class="chart-card__actions">
                    <button class="btn-icon" data-chart-download="revenue" title="–≠–∫—Å–ø–æ—Ä—Ç PNG">üñºÔ∏è</button>
                  </div>
                </div>
                <canvas id="revenue-chart" height="320"></canvas>
              </article>

              <article class="chart-card">
                <div class="chart-card__header">
                  <div>
                    <h3>–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤</h3>
                    <p>–î–æ–ª–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º</p>
                  </div>
                  <div class="chart-card__actions">
                    <button class="btn-icon" data-chart-download="status" title="–≠–∫—Å–ø–æ—Ä—Ç PNG">üñºÔ∏è</button>
                  </div>
                </div>
                <canvas id="status-chart" height="320"></canvas>
              </article>

              <article class="chart-card">
                <div class="chart-card__header">
                  <div>
                    <h3>–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å GEO</h3>
                    <p>–¢–æ–ø —Å—Ç—Ä–∞–Ω –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤ –∏ –¥–æ—Ö–æ–¥—É</p>
                  </div>
                  <div class="chart-card__actions">
                    <button class="btn-icon" data-chart-download="geo" title="–≠–∫—Å–ø–æ—Ä—Ç PNG">üñºÔ∏è</button>
                  </div>
                </div>
                <canvas id="geo-chart" height="320"></canvas>
              </article>

              <article class="chart-card">
                <div class="chart-card__header">
                  <div>
                    <h3>–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –ø–∞–∫–µ—Ç–æ–≤</h3>
                    <p>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –∏ –≤—ã—Ä—É—á–∫–∏ –ø–æ –ø–∞–∫–µ—Ç–∞–º</p>
                  </div>
                  <div class="chart-card__actions">
                    <button class="btn-icon" data-chart-download="package" title="–≠–∫—Å–ø–æ—Ä—Ç PNG">üñºÔ∏è</button>
                  </div>
                </div>
                <canvas id="package-chart" height="320"></canvas>
              </article>
            </div>
          </section>

          <section class="activity" id="activity">
            <header class="section-header">
              <div>
                <h2>–õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>
                <p>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥.</p>
              </div>
              <div class="activity__controls">
                <label class="input input--inline">
                  <span>–¢–∏–ø</span>
                  <select id="activity-type">
                    <option value="all">–í—Å–µ</option>
                    <option value="order_created">–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω</option>
                    <option value="order_paid">–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞</option>
                    <option value="payment_proof_received">–ü–æ–ª—É—á–µ–Ω —á–µ–∫</option>
                    <option value="status_changed">–ò–∑–º–µ–Ω—ë–Ω —Å—Ç–∞—Ç—É—Å</option>
                    <option value="tester_assigned">–ù–∞–∑–Ω–∞—á–µ–Ω —Ç–µ—Å—Ç–µ—Ä</option>
                    <option value="tester_unassigned">–°–Ω—è—Ç —Ç–µ—Å—Ç–µ—Ä</option>
                    <option value="report_uploaded">–û—Ç—á—ë—Ç –∑–∞–≥—Ä—É–∂–µ–Ω</option>
                    <option value="order_completed">–ó–∞–∫–∞–∑ –∑–∞–≤–µ—Ä—à—ë–Ω</option>
                    <option value="order_cancelled">–ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω—ë–Ω</option>
                    <option value="note_added">–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–º–µ—Ç–∫–∞</option>
                    <option value="tester_created">–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–µ—Ä</option>
                    <option value="admin_action">–î–µ–π—Å—Ç–≤–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</option>
                  </select>
                </label>
                <label class="input input--inline input--search">
                  <input type="search" id="activity-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é" />
                  <span class="icon">üîç</span>
                </label>
                <button class="btn btn--ghost" id="export-activity">–≠–∫—Å–ø–æ—Ä—Ç</button>
              </div>
            </header>
            <ol class="activity__list" id="activity-feed"></ol>
          </section>

          <section class="orders" id="orders">
            <header class="section-header">
              <div>
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h2>
                <p>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –º–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, —ç–∫—Å–ø–æ—Ä—Ç –∏ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –∑–∞–∫–∞–∑—É.</p>
              </div>
              <div class="orders__actions">
                <button class="btn btn--soft" id="save-filters">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
                <button class="btn btn--ghost" id="reset-filters">–°–±—Ä–æ—Å–∏—Ç—å</button>
                <button class="btn btn--primary" id="export-orders">‚¨áÔ∏è –≠–∫—Å–ø–æ—Ä—Ç CSV</button>
              </div>
            </header>

            <form class="filters" id="orders-filters">
              <div class="filters__group filters__group--wide">
                <label class="input input--search">
                  <input type="search" name="query" placeholder="–ü–æ–∏—Å–∫: –Ω–æ–º–µ—Ä, username, Telegram ID, email" />
                  <span class="icon">üîç</span>
                </label>
              </div>
              <div class="filters__group">
                <span class="filters__label">–°—Ç–∞—Ç—É—Å—ã</span>
                <div class="chips" id="status-chips"></div>
              </div>
              <div class="filters__group">
                <label class="input">
                  <span>–ü–∞–∫–µ—Ç</span>
                  <select name="package">
                    <option value="all">–í—Å–µ</option>
                    <option value="single">Single Test</option>
                    <option value="mini">Mini Audit</option>
                    <option value="retainer">Retainer</option>
                  </select>
                </label>
              </div>
              <div class="filters__group">
                <label class="input">
                  <span>GEO</span>
                  <select name="geo" multiple size="5" id="geo-select"></select>
                </label>
              </div>
              <div class="filters__group">
                <label class="input">
                  <span>–ü–µ—Ä–∏–æ–¥</span>
                  <select name="period">
                    <option value="all">–í—Å–µ –≤—Ä–µ–º—è</option>
                    <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                    <option value="yesterday">–í—á–µ—Ä–∞</option>
                    <option value="7">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</option>
                    <option value="30">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</option>
                    <option value="month">–≠—Ç–æ—Ç –º–µ—Å—è—Ü</option>
                    <option value="prev_month">–ü—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü</option>
                    <option value="custom">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π</option>
                  </select>
                </label>
                <label class="input">
                  <span>–°</span>
                  <input type="date" name="from" />
                </label>
                <label class="input">
                  <span>–ü–æ</span>
                  <input type="date" name="to" />
                </label>
              </div>
              <div class="filters__group">
                <label class="input">
                  <span>–¢–µ—Å—Ç–µ—Ä</span>
                  <select name="tester" id="tester-select">
                    <option value="all">–í—Å–µ</option>
                    <option value="none">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</option>
                  </select>
                </label>
              </div>
              <div class="filters__group">
                <label class="input">
                  <span>–°—É–º–º–∞ –æ—Ç</span>
                  <input type="number" name="amount_from" min="0" step="10" />
                </label>
                <label class="input">
                  <span>–°—É–º–º–∞ –¥–æ</span>
                  <input type="number" name="amount_to" min="0" step="10" />
                </label>
              </div>
            </form>

            <div class="bulk-actions" id="bulk-actions" hidden>
              <div class="bulk-actions__info">
                <span id="bulk-count">0</span> –∑–∞–∫–∞–∑–æ–≤ –≤—ã–±—Ä–∞–Ω–æ
              </div>
              <div class="bulk-actions__controls">
                <label>
                  <select id="bulk-status">
                    <option value="">–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</option>
                    <option value="paid">üí∞ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–ø–ª–∞—Ç—É</option>
                    <option value="in_progress">üîÑ –í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É</option>
                    <option value="completed">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å</option>
                    <option value="cancelled">‚ùå –û—Ç–º–µ–Ω–∏—Ç—å</option>
                  </select>
                </label>
                <label>
                  <select id="bulk-tester">
                    <option value="">–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ç–µ—Å—Ç–µ—Ä–∞</option>
                    <option value="none">–°–Ω—è—Ç—å —Ç–µ—Å—Ç–µ—Ä–∞</option>
                  </select>
                </label>
                <button class="btn btn--ghost" id="bulk-export">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</button>
                <button class="btn btn--danger" id="bulk-delete">–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</button>
                <button class="btn btn--soft" id="bulk-clear">–°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ</button>
              </div>
            </div>

            <div class="table-wrapper">
              <table class="orders-table" id="orders-table">
                <thead>
                  <tr>
                    <th><input type="checkbox" id="select-all" /></th>
                    <th data-sort="orderNumber"># –ó–∞–∫–∞–∑</th>
                    <th data-sort="createdAt">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                    <th data-sort="client">–ö–ª–∏–µ–Ω—Ç</th>
                    <th data-sort="packageType">–ü–∞–∫–µ—Ç</th>
                    <th data-sort="geo">GEO</th>
                    <th data-sort="priceEur">–°—É–º–º–∞</th>
                    <th data-sort="status">–°—Ç–∞—Ç—É—Å</th>
                    <th data-sort="testerId">–¢–µ—Å—Ç–µ—Ä</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <div class="table-footer">
              <div class="table-footer__summary" id="table-summary"></div>
              <div class="table-footer__pagination">
                <label>
                  <span>–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ</span>
                  <select id="page-size">
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="200">200</option>
                  </select>
                </label>
                <nav class="pagination" id="pagination"></nav>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <dialog class="modal" id="order-modal">
      <article class="modal__body">
        <button class="modal__close" data-close>‚úï</button>
        <div id="order-detail"></div>
      </article>
    </dialog>

    <dialog class="modal" id="note-modal">
      <article class="modal__body">
        <button class="modal__close" data-close>‚úï</button>
        <h3>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</h3>
        <textarea id="note-text" rows="5" placeholder="–ß—Ç–æ –≤–∞–∂–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å?" required></textarea>
        <div class="modal__footer">
          <button class="btn btn--ghost" data-close>–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn--primary" id="save-note">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </article>
    </dialog>

    <dialog class="modal" id="status-modal">
      <article class="modal__body">
        <button class="modal__close" data-close>‚úï</button>
        <h3>–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</h3>
        <p class="modal__text" id="status-modal-text"></p>
        <label class="input">
          <span>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>
          <textarea id="status-comment" rows="4"></textarea>
        </label>
        <label class="checkbox">
          <input type="checkbox" id="status-notify" checked />
          <span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É</span>
        </label>
        <div class="modal__footer">
          <button class="btn btn--ghost" data-close>–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn--primary" id="confirm-status">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        </div>
      </article>
    </dialog>

    <div class="toast-container" id="toast"></div>
  </body>
</html>
